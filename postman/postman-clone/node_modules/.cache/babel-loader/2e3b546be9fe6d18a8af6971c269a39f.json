{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Modal from\"react-modal\";import CollectionList from\"./CollectionList\";import firebase from\"../config/fbConfig\";import{connect}from\"react-redux\";Modal.setAppElement(\"#root\");var modalStyle={overlay:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",backgroundColor:\"rgba(0, 0, 0, 0.75)\"},content:{position:\"relative\",width:\"400px\",height:\"400px\",padding:\"0\",background:\"#f0eee9\"}};var CollectionTab=/*#__PURE__*/function(_Component){_inherits(CollectionTab,_Component);function CollectionTab(){var _getPrototypeOf2;var _this;_classCallCheck(this,CollectionTab);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CollectionTab)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={openModal:false,collectionList:[],alertMessage:false};_this.handleOpenModal=function(){_this.setState({openModal:true});};_this.handleCloseModal=function(){_this.setState({openModal:false});};_this.addCollection=function(){if(_this.refs.collectionInput.value!==\"\"){var newCollection={uid:_this.props.auth.uid,collectionName:_this.refs.collectionInput.value,RequestUrl:[]};console.log(\"before\",newCollection);_this.setState({alertMessage:false});firebase.firestore().collection(\"UserCollection\").add(newCollection).then(function(docRef){newCollection[\"collectionId\"]=newCollection[\"uid\"];newCollection[\"collectionId\"]=docRef.id;delete newCollection[\"uid\"];console.log(\"Document written with ID: \",docRef.id);}).then(function(){_this.setState({collectionList:[newCollection].concat(_toConsumableArray(_this.state.collectionList))});}).catch(function(error){console.error(\"Error adding document: \",error);});console.log(\"after\",newCollection);_this.handleCloseModal();}else{_this.setState({alertMessage:true});}};_this.fetchingCollectionData=function(){firebase.firestore().collection(\"UserCollection\").get().then(function(querySnapshot){querySnapshot.forEach(function(doc){if(doc.data().uid===_this.props.auth.uid){var list=_this.state.collectionList.slice();var collectionData={collectionId:doc.id,collectionName:doc.data().collectionName,RequestUrl:doc.data().RequestUrl};list.push(collectionData);_this.setState({collectionList:list});}});});};_this.deletingCollection=function(id){firebase.firestore().collection(\"UserCollection\").doc(\"\".concat(id)).delete().then(function(){console.log(\"Document successfully deleted!\");}).then(function(){_this.setState({collectionList:_this.state.collectionList.filter(function(collection){return collection.collectionId!==id;})});}).catch(function(error){console.error(\"Error removing document: \",error);});};return _this;}_createClass(CollectionTab,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchingCollectionData();}},{key:\"render\",value:function render(){return React.createElement(React.Fragment,null,React.createElement(\"button\",{onClick:this.handleOpenModal,className:\"newCollectionButton\"},\"+ New Collection\"),React.createElement(\"div\",{className:\"collectionList\"},React.createElement(CollectionList,{list:this.state.collectionList,deletingCollection:this.deletingCollection})),React.createElement(Modal,{isOpen:this.state.openModal,style:modalStyle},React.createElement(\"div\",{className:\"modalHeader\"},React.createElement(\"div\",null,\"CREATE A NEW COLLECTION\"),React.createElement(\"button\",{onClick:this.handleCloseModal,className:\"modalCloseButton\"},\"X\")),React.createElement(\"div\",{className:\"modalBody\"},React.createElement(\"label\",null,\"Name\"),React.createElement(\"input\",{type:\"text\",ref:\"collectionInput\",placeholder:\"Collection Name\"}),React.createElement(\"label\",null,\"Description\"),React.createElement(\"textarea\",null),React.createElement(\"button\",{onClick:this.addCollection},\"Submit\")),this.state.alertMessage?React.createElement(\"div\",null,\"Please include a valid collection name\"):null));}}]);return CollectionTab;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.firebase.auth};};export default connect(mapStateToProps)(CollectionTab);","map":{"version":3,"sources":["C:/Users/Amit/Desktop/postman/postman-clone/src/Components/CollectionTab.jsx"],"names":["React","Component","Modal","CollectionList","firebase","connect","setAppElement","modalStyle","overlay","display","justifyContent","alignItems","backgroundColor","content","position","width","height","padding","background","CollectionTab","state","openModal","collectionList","alertMessage","handleOpenModal","setState","handleCloseModal","addCollection","refs","collectionInput","value","newCollection","uid","props","auth","collectionName","RequestUrl","console","log","firestore","collection","add","then","docRef","id","catch","error","fetchingCollectionData","get","querySnapshot","forEach","doc","data","list","slice","collectionData","collectionId","push","deletingCollection","delete","filter","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport CollectionList from \"./CollectionList\";\r\nimport firebase from \"../config/fbConfig\";\r\nimport { connect } from \"react-redux\";\r\n\r\nModal.setAppElement(\"#root\");\r\nconst modalStyle = {\r\n  overlay: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.75)\"\r\n  },\r\n  content: {\r\n    position: \"relative\",\r\n    width: \"400px\",\r\n    height: \"400px\",\r\n    padding: \"0\",\r\n    background: \"#f0eee9\"\r\n  }\r\n};\r\n\r\nclass CollectionTab extends Component {\r\n  state = {\r\n    openModal: false,\r\n    collectionList: [],\r\n    alertMessage: false\r\n  };\r\n  handleOpenModal = () => {\r\n    this.setState({ openModal: true });\r\n  };\r\n  handleCloseModal = () => {\r\n    this.setState({ openModal: false });\r\n  };\r\n  addCollection = () => {\r\n    if (this.refs.collectionInput.value !== \"\") {\r\n      let newCollection = {\r\n        uid: this.props.auth.uid,\r\n        collectionName: this.refs.collectionInput.value,\r\n        RequestUrl: []\r\n      };\r\n      console.log(\"before\", newCollection);\r\n      this.setState({ alertMessage: false });\r\n      firebase\r\n        .firestore()\r\n        .collection(\"UserCollection\")\r\n        .add(newCollection)\r\n        .then(function(docRef) {\r\n          newCollection[\"collectionId\"] = newCollection[\"uid\"];\r\n          newCollection[\"collectionId\"] = docRef.id;\r\n          delete newCollection[\"uid\"];\r\n          console.log(\"Document written with ID: \", docRef.id);\r\n        })\r\n        .then(() => {\r\n          this.setState({\r\n            collectionList: [newCollection, ...this.state.collectionList]\r\n          });\r\n        })\r\n        .catch(function(error) {\r\n          console.error(\"Error adding document: \", error);\r\n        });\r\n      console.log(\"after\", newCollection);\r\n\r\n      this.handleCloseModal();\r\n    } else {\r\n      this.setState({ alertMessage: true });\r\n    }\r\n  };\r\n  componentDidMount() {\r\n    this.fetchingCollectionData();\r\n  }\r\n\r\n  fetchingCollectionData = () => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"UserCollection\")\r\n      .get()\r\n      .then(querySnapshot => {\r\n        querySnapshot.forEach(doc => {\r\n          if (doc.data().uid === this.props.auth.uid) {\r\n            let list = this.state.collectionList.slice();\r\n            let collectionData = {\r\n              collectionId: doc.id,\r\n              collectionName: doc.data().collectionName,\r\n              RequestUrl: doc.data().RequestUrl\r\n            };\r\n            list.push(collectionData);\r\n            this.setState({ collectionList: list });\r\n          }\r\n        });\r\n      });\r\n  };\r\n  deletingCollection = id => {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"UserCollection\")\r\n      .doc(`${id}`)\r\n      .delete()\r\n      .then(function() {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          collectionList: this.state.collectionList.filter(\r\n            collection => collection.collectionId !== id\r\n          )\r\n        });\r\n      })\r\n      .catch(function(error) {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <button onClick={this.handleOpenModal} className=\"newCollectionButton\">\r\n          + New Collection\r\n        </button>\r\n        <div className=\"collectionList\">\r\n          <CollectionList\r\n            list={this.state.collectionList}\r\n            deletingCollection={this.deletingCollection}\r\n          />\r\n        </div>\r\n        <Modal isOpen={this.state.openModal} style={modalStyle}>\r\n          <div className=\"modalHeader\">\r\n            <div>CREATE A NEW COLLECTION</div>\r\n            <button\r\n              onClick={this.handleCloseModal}\r\n              className=\"modalCloseButton\"\r\n            >\r\n              X\r\n            </button>\r\n          </div>\r\n          <div className=\"modalBody\">\r\n            <label>Name</label>\r\n            <input\r\n              type=\"text\"\r\n              ref=\"collectionInput\"\r\n              placeholder=\"Collection Name\"\r\n            />\r\n            <label>Description</label>\r\n            <textarea></textarea>\r\n            <button onClick={this.addCollection}>Submit</button>\r\n          </div>\r\n          {this.state.alertMessage ? (\r\n            <div>Please include a valid collection name</div>\r\n          ) : null}\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.firebase.auth\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(CollectionTab);\r\n"]},"metadata":{},"sourceType":"module"}