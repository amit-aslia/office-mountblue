{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _toConsumableArray from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';var SendRequest=/*#__PURE__*/function(_Component){_inherits(SendRequest,_Component);function SendRequest(){var _getPrototypeOf2;var _this;_classCallCheck(this,SendRequest);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SendRequest)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={testResult:[]};_this.userRequests=function(){return _this.props.httpData.map(function(request,index){return React.createElement(\"div\",{key:index,style:{paddingLeft:'10px',borderBottom:'solid 1px'}},React.createElement(\"div\",{style:{color:\"green\",textDecoration:\"none\",fontWeight:\"bold\"}},request.method),React.createElement(\"div\",null,React.createElement(\"div\",{style:{maxWidth:\"80%\"}},\" \",request.url)),React.createElement(\"br\",null),_this.state.testResult.length!==0?_this.state.testResult[index]?React.createElement(React.Fragment,null,\"Test-Result: \",React.createElement(\"span\",{style:{color:'Green',fontWeight:'bold'}},\"Passed\")):request.test===''?'No Test Cases ':React.createElement(React.Fragment,null,\"Test-Result: \",React.createElement(\"span\",{style:{color:'Red',fontWeight:'bold'}},\"Failed\")):null);});};_this.runCollection=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<_this.props.httpData.length)){_context.next=7;break;}_context.next=4;return runFetch(_this.props.httpData[i]).then(function(res){return _this.setState({testResult:[].concat(_toConsumableArray(_this.state.testResult),[res])});});case 4:i++;_context.next=1;break;case 7:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(SendRequest,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"sendRequestForCollection\"},React.createElement(\"div\",{className:\"runCollectionUrls\"},this.userRequests()),React.createElement(\"button\",{onClick:this.runCollection,className:\"runCollectionButton\"},\"Run Collection\"));}}]);return SendRequest;}(Component);function runFetch(_x){return _runFetch.apply(this,arguments);}function _runFetch(){_runFetch=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(request){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(request.method==='GET')){_context2.next=5;break;}_context2.next=3;return fetch(request.url,{header:request.headers}).then(function(res){return res.json();}).then(function(res){result=compareTestWithResponse(res,request.test);}).catch(function(err){return console.log(err);});case 3:_context2.next=7;break;case 5:_context2.next=7;return fetch(request.url,{headers:request.headers,method:request.method,body:request.body}).then(function(res){return res.json();}).then(function(res){result=compareTestWithResponse(res,request.test);}).catch(function(err){return console.log(err);});case 7:return _context2.abrupt(\"return\",result);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _runFetch.apply(this,arguments);}function compareTestWithResponse(result,test){var testCheck=JSON.parse(test);var jsonKeyInTest=Object.keys(testCheck);var jsonKeyInResult=Object.keys(result);if(jsonKeyInResult.length!==jsonKeyInTest.length){return false;}else{for(var i=0;i<jsonKeyInResult.length;i++){if(!jsonKeyInTest.includes(jsonKeyInResult[i])){return false;}if(testCheck[jsonKeyInResult[i]]!==result[jsonKeyInResult[i]]){return false;}}return true;}}export default SendRequest;","map":{"version":3,"sources":["C:/Users/Amit/Desktop/postman/postman-clone/src/SendRequest.js"],"names":["React","Component","SendRequest","state","testResult","userRequests","props","httpData","map","request","index","paddingLeft","borderBottom","color","textDecoration","fontWeight","method","maxWidth","url","length","test","runCollection","i","runFetch","then","res","setState","fetch","header","headers","json","result","compareTestWithResponse","catch","err","console","log","body","testCheck","JSON","parse","jsonKeyInTest","Object","keys","jsonKeyInResult","includes"],"mappings":"m3CAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAGMC,CAAAA,W,mZACFC,K,CAAQ,CACJC,UAAU,CAAE,EADR,C,OAGRC,Y,CAAe,UAAM,CACjB,MAAO,OAAKC,KAAL,CAAWC,QAAX,CAAoBC,GAApB,CAAwB,SAACC,OAAD,CAAUC,KAAV,QAAqB,4BAAK,GAAG,CAAEA,KAAV,CAAiB,KAAK,CAAE,CAACC,WAAW,CAAE,MAAd,CAAsBC,YAAY,CAAE,WAApC,CAAxB,EAChD,2BACI,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAkBC,cAAc,CAAE,MAAlC,CAA0CC,UAAU,CAAE,MAAtD,CADX,EAGKN,OAAO,CAACO,MAHb,CADgD,CAMhD,+BACI,2BAAK,KAAK,CAAE,CAAEC,QAAQ,CAAE,KAAZ,CAAZ,MAAmCR,OAAO,CAACS,GAA3C,CADJ,CANgD,CAShD,8BATgD,CAU/C,MAAKf,KAAL,CAAWC,UAAX,CAAsBe,MAAtB,GAAiC,CAAjC,CACI,MAAKhB,KAAL,CAAWC,UAAX,CAAsBM,KAAtB,EAAgC,wDAAe,4BAAM,KAAK,CAAE,CAACG,KAAK,CAAE,OAAR,CAAiBE,UAAU,CAAE,MAA7B,CAAb,WAAf,CAAhC,CAAuHN,OAAO,CAACW,IAAR,GAAiB,EAAlB,CAAwB,gBAAxB,CAA4C,wDAAe,4BAAM,KAAK,CAAE,CAACP,KAAK,CAAE,KAAR,CAAeE,UAAU,CAAE,MAA3B,CAAb,WAAf,CADtK,CAC2P,IAX5M,CAArB,EAAxB,CAAP,CAaH,C,OACDM,a,sEAAgB,yIACHC,CADG,CACC,CADD,aACIA,CAAC,CAAG,MAAKhB,KAAL,CAAWC,QAAX,CAAoBY,MAD5B,gDAEFI,CAAAA,QAAQ,CAAC,MAAKjB,KAAL,CAAWC,QAAX,CAAoBe,CAApB,CAAD,CAAR,CACDE,IADC,CACI,SAAAC,GAAG,QAAI,OAAKC,QAAL,CAAc,CAAEtB,UAAU,8BAAM,MAAKD,KAAL,CAAWC,UAAjB,GAA6BqB,GAA7B,EAAZ,CAAd,CAAJ,EADP,CAFE,QACoCH,CAAC,EADrC,6E,gFAMP,CACL,MAAQ,4BAAK,SAAS,CAAC,0BAAf,EACJ,2BAAK,SAAS,CAAC,mBAAf,EAAoC,KAAKjB,YAAL,EAApC,CADI,CAEJ,8BAAQ,OAAO,CAAE,KAAKgB,aAAtB,CAAqC,SAAS,CAAC,qBAA/C,mBAFI,CAAR,CAIH,C,yBA9BqBpB,S,UAiCXsB,CAAAA,Q,oIAAf,kBAAwBd,OAAxB,sIAEQA,OAAO,CAACO,MAAR,GAAmB,KAF3B,kDAGcW,CAAAA,KAAK,CAAClB,OAAO,CAACS,GAAT,CACP,CAAEU,MAAM,CAAEnB,OAAO,CAACoB,OAAlB,CADO,CAAL,CAEDL,IAFC,CAEI,SAAAC,GAAG,QAAKA,CAAAA,GAAG,CAACK,IAAJ,EAAL,EAFP,EAGDN,IAHC,CAGI,SAAAC,GAAG,CAAI,CACTM,MAAM,CAAIC,uBAAuB,CAACP,GAAD,CAAMhB,OAAO,CAACW,IAAd,CAAjC,CACH,CALC,EAMDa,KANC,CAMK,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EANR,CAHd,6DAYcP,CAAAA,KAAK,CAAClB,OAAO,CAACS,GAAT,CAAc,CACrBW,OAAO,CAAEpB,OAAO,CAACoB,OADI,CAErBb,MAAM,CAAEP,OAAO,CAACO,MAFK,CAGrBqB,IAAI,CAAE5B,OAAO,CAAC4B,IAHO,CAAd,CAAL,CAKDb,IALC,CAKI,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACK,IAAJ,EAAJ,EALP,EAMDN,IANC,CAMI,SAAAC,GAAG,CAAI,CACTM,MAAM,CAAIC,uBAAuB,CAACP,GAAD,CAAMhB,OAAO,CAACW,IAAd,CAAjC,CACH,CARC,EASDa,KATC,CASK,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EATR,CAZd,yCAuBWH,MAvBX,0D,2CA0BA,QAASC,CAAAA,uBAAT,CAAiCD,MAAjC,CAAyCX,IAAzC,CAA+C,CAE3C,GAAIkB,CAAAA,SAAS,CAAGC,IAAI,CAACC,KAAL,CAAWpB,IAAX,CAAhB,CACA,GAAIqB,CAAAA,aAAa,CAAGC,MAAM,CAACC,IAAP,CAAYL,SAAZ,CAApB,CACA,GAAIM,CAAAA,eAAe,CAAGF,MAAM,CAACC,IAAP,CAAYZ,MAAZ,CAAtB,CAEA,GAAIa,eAAe,CAACzB,MAAhB,GAA2BsB,aAAa,CAACtB,MAA7C,CAAqD,CACjD,MAAO,MAAP,CACH,CAFD,IAGK,CACD,IAAK,GAAIG,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGsB,eAAe,CAACzB,MAApC,CAA4CG,CAAC,EAA7C,CAAiD,CAC7C,GAAI,CAACmB,aAAa,CAACI,QAAd,CAAuBD,eAAe,CAACtB,CAAD,CAAtC,CAAL,CAAiD,CAC7C,MAAO,MAAP,CACH,CACD,GAAIgB,SAAS,CAACM,eAAe,CAACtB,CAAD,CAAhB,CAAT,GAAkCS,MAAM,CAACa,eAAe,CAACtB,CAAD,CAAhB,CAA5C,CAAkE,CAC9D,MAAO,MAAP,CACH,CACJ,CACD,MAAO,KAAP,CACH,CACJ,CAGD,cAAepB,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\nclass SendRequest extends Component {\r\n    state = {\r\n        testResult: []\r\n    }\r\n    userRequests = () => {\r\n        return this.props.httpData.map((request, index) => (<div key={index} style={{paddingLeft: '10px', borderBottom: 'solid 1px'}}>\r\n            <div\r\n                style={{ color: \"green\", textDecoration: \"none\", fontWeight: \"bold\" }}\r\n            >\r\n                {request.method}\r\n            </div>\r\n            <div>\r\n                <div style={{ maxWidth: \"80%\" }}> {request.url}</div>\r\n            </div>\r\n            <br />\r\n            {this.state.testResult.length !== 0 ?\r\n                (this.state.testResult[index] ? (<>Test-Result: <span style={{color: 'Green', fontWeight: 'bold'}}>Passed</span></>) : (request.test === '') ? 'No Test Cases ' : (<>Test-Result: <span style={{color: 'Red', fontWeight: 'bold'}}>Failed</span></>)) : null}\r\n        </div>))\r\n    }\r\n    runCollection = async () => {\r\n        for (let i = 0; i < this.props.httpData.length; i++) {\r\n            await runFetch(this.props.httpData[i])\r\n                .then(res => this.setState({ testResult: [...this.state.testResult, res] }));\r\n        }\r\n    }\r\n    render() {\r\n        return (<div className='sendRequestForCollection'>\r\n            <div className='runCollectionUrls'>{this.userRequests()}</div>\r\n            <button onClick={this.runCollection} className='runCollectionButton'>Run Collection</button>\r\n        </div>)\r\n    }\r\n}\r\n\r\nasync function runFetch(request) {\r\n    let result;\r\n    if (request.method === 'GET') {\r\n        await fetch(request.url,\r\n            { header: request.headers })\r\n            .then(res => (res.json()))\r\n            .then(res => {\r\n                result = (compareTestWithResponse(res, request.test));\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    else {\r\n        await fetch(request.url, {\r\n            headers: request.headers,\r\n            method: request.method,\r\n            body: request.body\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                result = (compareTestWithResponse(res, request.test));\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction compareTestWithResponse(result, test) {\r\n\r\n    let testCheck = JSON.parse(test);\r\n    let jsonKeyInTest = Object.keys(testCheck);\r\n    let jsonKeyInResult = Object.keys(result);\r\n\r\n    if (jsonKeyInResult.length !== jsonKeyInTest.length) {\r\n        return false\r\n    }\r\n    else {\r\n        for (let i = 0; i < jsonKeyInResult.length; i++) {\r\n            if (!jsonKeyInTest.includes(jsonKeyInResult[i])) {\r\n                return false;\r\n            }\r\n            if (testCheck[jsonKeyInResult[i]] !== result[jsonKeyInResult[i]]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\nexport default SendRequest;"]},"metadata":{},"sourceType":"module"}