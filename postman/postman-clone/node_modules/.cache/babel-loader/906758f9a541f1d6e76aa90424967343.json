{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\src\\\\Components\\\\HttpRequest.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { httpHistory } from '../store/actions/httpHistoryActions';\nimport { addCurrentTabId } from '../store/actions/tabHistoryActions';\nimport HttpRequestHeaders from './HttpRequestHeaders';\nimport HttpRequestBody from './HttpRequestBody';\nimport HttpResponse from './HttpResponse';\nimport { Tabs, Tab, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\n\nclass HttpRequest extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      url: '',\n      result: '',\n      method: 'GET',\n      body: '',\n      headerKeys: ['Content-Type'],\n      headerValues: ['application/json'],\n      headers: {},\n      showHeader: true,\n      showBody: false\n    };\n\n    this.handleUrlChange = event => {\n      this.setState({\n        url: event.target.value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      const headObj = {};\n      this.state.headerKeys.map((headerKey, index) => {\n        return headObj[headerKey] = this.state.headerValues[index];\n      });\n      let bodyInput = '';\n\n      if (this.state.body.length !== 0) {\n        bodyInput = JSON.parse(this.state.body);\n      }\n\n      this.setState({\n        body: JSON.stringify(bodyInput),\n        headers: headObj\n      }, () => {\n        this.props.httpHistory(this.state, this.props.auth); // console.log(this.state);\n\n        if (this.state.method === 'GET') {\n          fetch(this.state.url, {\n            headers: this.state.headers\n          }).then(a => a.json()).then(result => this.setState({\n            result: JSON.stringify(result)\n          })).catch(err => {//console.log(\"error\" + err);\n          }); //console.log(this.state);\n        } else {\n          fetch(this.state.url, {\n            headers: this.state.headers,\n            method: this.state.method,\n            body: JSON.stringify(this.state.body)\n          }).then(a => a.json()).then(result => this.setState({\n            result: JSON.stringify(result)\n          })).catch(err => {//console.log(\"error\" + err);\n          }); //console.log(this.state);\n        }\n      });\n    };\n\n    this.handleSelectChange = event => {\n      this.setState({\n        method: event.target.value\n      });\n    };\n\n    this.handleHeaderRemove = index => {\n      this.state.headerKeys.splice(index, 1);\n      this.state.headerValues.splice(index, 1);\n      this.setState({\n        headerKeys: this.state.headerKeys\n      });\n      this.setState({\n        headervalues: this.state.headerValues\n      });\n    };\n\n    this.handleHeaderKeyChange = (e, index) => {\n      this.state.headerKeys[index] = e.target.value; // //console.log(this.state.bodyKey);\n\n      this.setState({\n        headerKeys: this.state.headerKeys\n      });\n    };\n\n    this.handleHeaderValueChange = (e, index) => {\n      this.state.headerValues[index] = e.target.value; // //console.log(this.state.bodyKey);\n\n      this.setState({\n        headerValues: this.state.headerValues\n      });\n    };\n\n    this.addHeader = () => {\n      this.setState({\n        headerKeys: [...this.state.headerKeys, '']\n      });\n      this.setState({\n        headerValues: [...this.state.headerValues, '']\n      });\n    };\n\n    this.onClickHeader = () => {\n      this.setState({\n        showHeader: true,\n        showBody: false\n      });\n    };\n\n    this.onClickBody = () => {\n      this.setState({\n        showHeader: false,\n        showBody: true\n      });\n    };\n\n    this.handleBodyRawInputChange = e => {\n      this.setState({\n        body: e.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    let history = this.props.historyData;\n    const tabID = this.props.tabHistory.arr.filter(data => data.id === this.props.index);\n\n    if (Object.keys(history).length !== 0) {\n      if (1) {\n        this.setState({\n          url: history.url,\n          method: history.method,\n          body: history.body,\n          headerKeys: history.headerKeys,\n          headerValues: history.headerValues,\n          headers: history.body\n        });\n        this.props.httpHistory(nu, this.props.auth);\n      } else {\n        console.log('this is else part');\n        this.setState({\n          url: '',\n          method: 'GET',\n          body: '',\n          headerKeys: ['Content-Type'],\n          headerValues: ['application/json'],\n          headers: {}\n        });\n      }\n    }\n\n    this.props.addCurrentTabId(this.props.index);\n  }\n\n  render() {\n    // console.log('this is props of httpHistory',tabID)\n    // console.log('this is index of tabHistory' , this.props.index)\n    // console.log('print history data', this.props.historyData);\n    // console.log('print tabHistory',this.props.tabHistory)\n    return React.createElement(\"div\", {\n      className: \"urlArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, this.state.url === '' ? React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold',\n        fontFamily: 'Helvetica'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Untitled\") : React.createElement(\"p\", {\n      style: {\n        fontWeight: 'bold',\n        fontFamily: 'Helvetica'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.state.url), React.createElement(\"form\", {\n      onSubmit: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: this.handleSelectChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.method === 'GET' ? React.createElement(\"option\", {\n      value: \"GET\",\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"GET\") : React.createElement(\"option\", {\n      value: \"GET\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"GET\"), this.state.method === 'POST' ? React.createElement(\"option\", {\n      value: \"POST\",\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"POST\") : React.createElement(\"option\", {\n      value: \"POST\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"POST\"), this.state.method === 'PUT' ? React.createElement(\"option\", {\n      value: \"PUT\",\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"PUT\") : React.createElement(\"option\", {\n      value: \"PUT\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"PUT\"), this.state.method === 'DELETE' ? React.createElement(\"option\", {\n      value: \"DELETE\",\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"DELETE\") : React.createElement(\"option\", {\n      value: \"DELETE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"DELETE\")), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.url,\n      onChange: this.handleUrlChange,\n      className: \"inputUrl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Send\",\n      className: \"sendButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })), React.createElement(Tabs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(TabList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Header\"), React.createElement(Tab, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Body\")), React.createElement(TabPanel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(HttpRequestHeaders, {\n      addHeader: e => {\n        this.addHeader(e);\n      },\n      handleHeaderRemove: index => {\n        this.handleHeaderRemove(index);\n      },\n      handleHeaderValueChange: (e, index) => {\n        this.handleHeaderValueChange(e, index);\n      },\n      handleHeaderKeyChange: (e, index) => {\n        this.handleHeaderKeyChange(e, index);\n      },\n      headerValues: this.state.headerValues,\n      headerKeys: this.state.headerKeys,\n      showHeader: this.state.showHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    })), React.createElement(TabPanel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(HttpRequestBody, {\n      body: this.state.body,\n      showBody: this.state.showBody,\n      handleBodyRawInputChange: e => {\n        this.handleBodyRawInputChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"response-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Response\"), React.createElement(HttpResponse, {\n      result: this.state.result,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    historyData: state.historyData,\n    tabHistory: state.tabHistory,\n    previousTab: state.currentTabId\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    httpHistory: (newHttpData, auth) => dispatch(httpHistory(newHttpData, auth)),\n    addCurrentTabId: currenttab => dispatch(addCurrentTabId(currenttab))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HttpRequest);","map":{"version":3,"sources":["C:/Users/Amit/Desktop/postman/postman-clone/src/Components/HttpRequest.jsx"],"names":["React","Component","connect","httpHistory","addCurrentTabId","HttpRequestHeaders","HttpRequestBody","HttpResponse","Tabs","Tab","TabList","TabPanel","HttpRequest","state","url","result","method","body","headerKeys","headerValues","headers","showHeader","showBody","handleUrlChange","event","setState","target","value","handleFormSubmit","preventDefault","headObj","map","headerKey","index","bodyInput","length","JSON","parse","stringify","props","auth","fetch","then","a","json","catch","err","handleSelectChange","handleHeaderRemove","splice","headervalues","handleHeaderKeyChange","e","handleHeaderValueChange","addHeader","onClickHeader","onClickBody","handleBodyRawInputChange","componentDidMount","history","historyData","tabID","tabHistory","arr","filter","data","id","Object","keys","nu","console","log","render","fontWeight","fontFamily","mapStateToProps","previousTab","currentTabId","mapDispatchToProps","dispatch","newHttpData","currenttab"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { httpHistory } from '../store/actions/httpHistoryActions';\r\nimport { addCurrentTabId } from '../store/actions/tabHistoryActions';\r\nimport HttpRequestHeaders from './HttpRequestHeaders';\r\nimport HttpRequestBody from './HttpRequestBody';\r\nimport HttpResponse from './HttpResponse';\r\nimport { Tabs, Tab, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\n\r\nclass HttpRequest extends Component {\r\n  state = {\r\n    url: '',\r\n    result: '',\r\n    method: 'GET',\r\n    body: '',\r\n    headerKeys: ['Content-Type'],\r\n    headerValues: ['application/json'],\r\n    headers: {},\r\n    showHeader: true,\r\n    showBody: false\r\n  };\r\n  componentDidMount() {\r\n    let history = this.props.historyData;\r\n    const tabID = this.props.tabHistory.arr.filter(\r\n      (data) => data.id === this.props.index\r\n    );\r\n\r\n    if (Object.keys(history).length !== 0) {\r\n      if (1) {\r\n        this.setState({\r\n          url: history.url,\r\n          method: history.method,\r\n          body: history.body,\r\n          headerKeys: history.headerKeys,\r\n          headerValues: history.headerValues,\r\n          headers: history.body\r\n       \r\n        });\r\n        this.props.httpHistory(nu,this.props.auth)\r\n      } else {\r\n        console.log('this is else part');\r\n        this.setState({\r\n          url: '',\r\n          method: 'GET',\r\n          body: '',\r\n          headerKeys: ['Content-Type'],\r\n          headerValues: ['application/json'],\r\n          headers: {}\r\n        });\r\n      }\r\n    }\r\n    this.props.addCurrentTabId(this.props.index);\r\n  }\r\n  handleUrlChange = (event) => {\r\n    this.setState({ url: event.target.value });\r\n  };\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const headObj = {};\r\n    this.state.headerKeys.map((headerKey, index) => {\r\n      return (headObj[headerKey] = this.state.headerValues[index]);\r\n    });\r\n    let bodyInput = '';\r\n    if (this.state.body.length !== 0) {\r\n      bodyInput = JSON.parse(this.state.body);\r\n    }\r\n\r\n    this.setState({ body: JSON.stringify(bodyInput), headers: headObj }, () => {\r\n      this.props.httpHistory(this.state, this.props.auth);\r\n      // console.log(this.state);\r\n      if (this.state.method === 'GET') {\r\n        fetch(this.state.url, {\r\n          headers: this.state.headers\r\n        })\r\n          .then((a) => a.json())\r\n          .then((result) => this.setState({ result: JSON.stringify(result) }))\r\n          .catch((err) => {\r\n            //console.log(\"error\" + err);\r\n          });\r\n        //console.log(this.state);\r\n      } else {\r\n        fetch(this.state.url, {\r\n          headers: this.state.headers,\r\n          method: this.state.method,\r\n          body: JSON.stringify(this.state.body)\r\n        })\r\n          .then((a) => a.json())\r\n          .then((result) => this.setState({ result: JSON.stringify(result) }))\r\n          .catch((err) => {\r\n            //console.log(\"error\" + err);\r\n          });\r\n        //console.log(this.state);\r\n      }\r\n    });\r\n  };\r\n\r\n  handleSelectChange = (event) => {\r\n    this.setState({ method: event.target.value });\r\n  };\r\n\r\n  handleHeaderRemove = (index) => {\r\n    this.state.headerKeys.splice(index, 1);\r\n    this.state.headerValues.splice(index, 1);\r\n    this.setState({ headerKeys: this.state.headerKeys });\r\n    this.setState({ headervalues: this.state.headerValues });\r\n  };\r\n\r\n  handleHeaderKeyChange = (e, index) => {\r\n    this.state.headerKeys[index] = e.target.value;\r\n    // //console.log(this.state.bodyKey);\r\n    this.setState({ headerKeys: this.state.headerKeys });\r\n  };\r\n\r\n  handleHeaderValueChange = (e, index) => {\r\n    this.state.headerValues[index] = e.target.value;\r\n    // //console.log(this.state.bodyKey);\r\n    this.setState({ headerValues: this.state.headerValues });\r\n  };\r\n\r\n  addHeader = () => {\r\n    this.setState({ headerKeys: [...this.state.headerKeys, ''] });\r\n    this.setState({ headerValues: [...this.state.headerValues, ''] });\r\n  };\r\n  onClickHeader = () => {\r\n    this.setState({ showHeader: true, showBody: false });\r\n  };\r\n  onClickBody = () => {\r\n    this.setState({ showHeader: false, showBody: true });\r\n  };\r\n  handleBodyRawInputChange = (e) => {\r\n    this.setState({ body: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    // console.log('this is props of httpHistory',tabID)\r\n    // console.log('this is index of tabHistory' , this.props.index)\r\n    // console.log('print history data', this.props.historyData);\r\n    // console.log('print tabHistory',this.props.tabHistory)\r\n\r\n    return (\r\n      <div className=\"urlArea\">\r\n        {this.state.url === '' ? (\r\n          <p style={{ fontWeight: 'bold', fontFamily: 'Helvetica' }}>\r\n            Untitled\r\n          </p>\r\n        ) : (\r\n          <p style={{ fontWeight: 'bold', fontFamily: 'Helvetica' }}>\r\n            {this.state.url}\r\n          </p>\r\n        )}\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n          <select onChange={this.handleSelectChange}>\r\n            {this.state.method === 'GET' ? (\r\n              <option value=\"GET\" selected>\r\n                GET\r\n              </option>\r\n            ) : (\r\n              <option value=\"GET\">GET</option>\r\n            )}\r\n            {this.state.method === 'POST' ? (\r\n              <option value=\"POST\" selected>\r\n                POST\r\n              </option>\r\n            ) : (\r\n              <option value=\"POST\">POST</option>\r\n            )}\r\n            {this.state.method === 'PUT' ? (\r\n              <option value=\"PUT\" selected>\r\n                PUT\r\n              </option>\r\n            ) : (\r\n              <option value=\"PUT\">PUT</option>\r\n            )}\r\n            {this.state.method === 'DELETE' ? (\r\n              <option value=\"DELETE\" selected>\r\n                DELETE\r\n              </option>\r\n            ) : (\r\n              <option value=\"DELETE\">DELETE</option>\r\n            )}\r\n          </select>\r\n          <input\r\n            type=\"text\"\r\n            value={this.state.url}\r\n            onChange={this.handleUrlChange}\r\n            className=\"inputUrl\"\r\n          />\r\n          <input type=\"submit\" value=\"Send\" className=\"sendButton\" />\r\n        </form>\r\n\r\n        <Tabs>\r\n          <TabList>\r\n            <Tab>Header</Tab>\r\n            <Tab>Body</Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <HttpRequestHeaders\r\n              addHeader={(e) => {\r\n                this.addHeader(e);\r\n              }}\r\n              handleHeaderRemove={(index) => {\r\n                this.handleHeaderRemove(index);\r\n              }}\r\n              handleHeaderValueChange={(e, index) => {\r\n                this.handleHeaderValueChange(e, index);\r\n              }}\r\n              handleHeaderKeyChange={(e, index) => {\r\n                this.handleHeaderKeyChange(e, index);\r\n              }}\r\n              headerValues={this.state.headerValues}\r\n              headerKeys={this.state.headerKeys}\r\n              showHeader={this.state.showHeader}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <HttpRequestBody\r\n              body={this.state.body}\r\n              showBody={this.state.showBody}\r\n              handleBodyRawInputChange={(e) => {\r\n                this.handleBodyRawInputChange(e);\r\n              }}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n        <div className=\"response-label\">Response</div>\r\n        <HttpResponse result={this.state.result} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    historyData: state.historyData,\r\n    tabHistory: state.tabHistory,\r\n    previousTab: state.currentTabId\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    httpHistory: (newHttpData, auth) =>\r\n      dispatch(httpHistory(newHttpData, auth)),\r\n    addCurrentTabId: (currenttab) => dispatch(addCurrentTabId(currenttab))\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HttpRequest);\r\n"]},"metadata":{},"sourceType":"module"}