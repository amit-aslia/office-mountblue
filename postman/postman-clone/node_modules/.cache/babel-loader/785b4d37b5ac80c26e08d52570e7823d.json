{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Amit\\\\Desktop\\\\postman\\\\postman-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{httpHistory as _httpHistory}from'../store/actions/httpHistoryActions';import HttpRequestHeaders from'./HttpRequestHeaders';import HttpRequestBody from'./HttpRequestBody';import HttpResponse from'./HttpResponse';import{Tabs,Tab,TabList,TabPanel}from'react-tabs';import'react-tabs/style/react-tabs.css';import ReactModal from'react-modal';import firebase from'../config/fbConfig';ReactModal.setAppElement('#root');var modalStyle={overlay:{display:'flex',justifyContent:'center',alignItems:'center',backgroundColor:'rgba(0, 0, 0, 0.75)'},content:{position:'relative',width:'400px',height:'400px',padding:'0',background:'#f0eee9'}};var HttpRequest=/*#__PURE__*/function(_Component){_inherits(HttpRequest,_Component);function HttpRequest(){var _getPrototypeOf2;var _this;_classCallCheck(this,HttpRequest);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(HttpRequest)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={url:'',result:'',method:'GET',body:'',headerKeys:['Content-Type'],headerValues:['application/json'],headers:{},showHeader:true,showBody:false,openModal:false,collectionList:[],test:'',testOutput:'',title:'Untitled'};_this.compareTestWithResponse=function(result){if(_this.state.test.length===0){_this.setState({testOutput:'No test case.'});return;}try{var test=JSON.parse(_this.state.test);if(test.length>=0){for(var eachObjectInTest=0;eachObjectInTest<test.length;eachObjectInTest++){var testCase=test[eachObjectInTest];var resultCase=result[eachObjectInTest];var jsonKeyinTest=Object.keys(testCase);var jsonKeyInResult=Object.keys(resultCase);if(jsonKeyInResult.length!==jsonKeyinTest.length){_this.setState({testOutput:'Failed, length of test case and response not equal'});break;}else{for(var i=0;i<jsonKeyinTest.length;i++){console.log(i+'. result key'+jsonKeyInResult[i]+' , test key'+jsonKeyinTest);if(!jsonKeyInResult.includes(jsonKeyinTest[i])){_this.setState({testOutput:'Failed '+jsonKeyinTest[i]+' not present in response'});break;}else if(testCase[jsonKeyinTest[i]]!==resultCase[jsonKeyinTest[i]]){_this.setState({testOutput:'Failed not equal properties of '+jsonKeyInResult[i]+''});break;}else{_this.setState({testOutput:'Passed'});}}}}}else{var _jsonKeyinTest=Object.keys(test);var _jsonKeyInResult=Object.keys(result);if(_jsonKeyInResult.length!==_jsonKeyinTest.length){_this.setState({testOutput:'Failed, length of test case and response not equal'});return;}else{for(var _i=0;_i<_jsonKeyinTest.length;_i++){if(!_jsonKeyInResult.includes(_jsonKeyinTest[_i])){_this.setState({testOutput:'Failed '+_jsonKeyinTest[_i]+' not present in response'});return;}else if(test[_jsonKeyInResult[_i]]!==result[_jsonKeyInResult[_i]]){_this.setState({testOutput:'Failed not equal properties of '+_jsonKeyInResult[_i]+''});return;}else{_this.setState({testOutput:'Passed'});}}}}}catch(err){console.log('ERROR '+err);_this.setState({testOutput:'Badly formatted test case.'});}};_this.handleUrlChange=function(event){_this.setState({url:event.target.value});};_this.handleFormSubmit=function(event){event.preventDefault();if(_this.state.url!==''){var headObj={};_this.state.headerKeys.map(function(headerKey,index){return headObj[headerKey]=_this.state.headerValues[index];});_this.setState({headers:headObj},function(){_this.props.httpHistory(_this.state,_this.props.auth);console.log(_this.state);if(_this.state.method==='GET'){fetch(_this.state.url,{headers:_this.state.headers}).then(function(a){return a.json();}).then(function(result){return _this.setState({result:JSON.stringify(result)},function(){_this.compareTestWithResponse(result);});}).catch(function(err){});}else{fetch(_this.state.url,{headers:_this.state.headers,method:_this.state.method,body:_this.state.body}).then(function(a){return a.json();}).then(function(result){return _this.setState({result:JSON.stringify(result)});}).catch(function(err){});}});}else{_this.setState({result:'EMPTY URL'});}};_this.handleSelectChange=function(event){_this.setState({method:event.target.value});};_this.handleHeaderRemove=function(index){var updatedHeaderKeys=_this.state.headerKeys;var updatedHeaderValues=_this.state.headerValues;updatedHeaderKeys.splice(index,1);updatedHeaderValues.splice(index,1);_this.setState({headerKeys:updatedHeaderKeys});_this.setState({headervalues:updatedHeaderValues});};_this.handleHeaderKeyChange=function(e,index){var updatedHeaderKeys=_this.state.headerKeys;updatedHeaderKeys[index]=e.target.value;_this.setState({headerKeys:updatedHeaderKeys});};_this.handleHeaderValueChange=function(e,index){var updatedHeaderValues=_this.state.headerValues;updatedHeaderValues[index]=e.target.value;_this.setState({headerValues:updatedHeaderValues});};_this.addHeader=function(){_this.setState({headerKeys:[].concat(_toConsumableArray(_this.state.headerKeys),[''])});_this.setState({headerValues:[].concat(_toConsumableArray(_this.state.headerValues),[''])});};_this.onClickHeader=function(){_this.setState({showHeader:true,showBody:false});};_this.onClickBody=function(){_this.setState({showHeader:false,showBody:true});};_this.handleBodyRawInputChange=function(e){_this.setState({body:e.target.value});};_this.handleTestChange=function(e){_this.setState({test:e.target.value});};_this.handleOpenModal=function(){_this.setState({openModal:!_this.state.openModal});firebase.firestore().collection('UserCollection').get().then(function(querySnapshot){querySnapshot.forEach(function(doc){if(doc.data().uid===_this.props.auth.uid){var list=[];var collectionData={collectionId:doc.id,collectionName:doc.data().collectionName};list.push(collectionData);_this.setState({collectionList:list});}});});};_this.showCollection=function(){return _this.state.collectionList.map(function(collection){return React.createElement(\"option\",{key:collection.collectionId,value:collection.collectionId},collection.collectionName);});};_this.saveCollection=function(){if(_this.refs.selectedCollection.value!==''){console.log(_this.refs.selectedCollection.value);var requestObject={url:_this.state.url,method:_this.state.method,body:_this.state.body,headerKeys:_this.state.headerKeys,headerValues:_this.state.headerValues,headers:_this.state.headers,test:_this.state.test};firebase.firestore().collection('UserCollection').doc(\"\".concat(_this.refs.selectedCollection.value)).update({RequestUrl:firebase.firestore.FieldValue.arrayUnion(requestObject)}).then(function(){console.log('Data Written Successfully');}).catch(function(err){console.log('Error Occurred',err);});_this.setState({openModal:!_this.state.openModal});}};_this.handleCloseModal=function(){_this.setState({openModal:!_this.state.openModal});};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleTitle=function(){_this.setState({title:''});};return _this;}_createClass(HttpRequest,[{key:\"componentWillUpdate\",value:function componentWillUpdate(nextProps,nextState){localStorage.setItem(this.props.index,JSON.stringify(nextState));}},{key:\"componentDidMount\",value:function componentDidMount(){var savedState=localStorage.getItem(this.props.index);if(savedState!==null){var savedStateObject=JSON.parse(savedState);this.setState({url:savedStateObject.url,result:savedStateObject.result,method:savedStateObject.method,body:savedStateObject.body,headerKeys:savedStateObject.headerKeys,headerValues:savedStateObject.headerValues,headers:savedStateObject.headers,test:savedStateObject.test,testOutput:savedStateObject.testOutput});}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(){var _this2=this;var history=this.props.historyData;if(Object.keys(history).length!==0){if(this.props.location===0){this.setState({url:history.url,method:history.method,body:history.body,headerKeys:history.headerKeys,headerValues:history.headerValues,headers:history.headers,title:history.title},function(){localStorage.setItem(_this2.props.index,JSON.stringify(_this2.state));});}}}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:\"urlArea\"},React.createElement(\"div\",null,React.createElement(\"input\",{className:\"handleTitle\",type:\"text\",name:\"title\",value:this.state.title,onClick:this.handleTitle,onChange:this.handleChange})),React.createElement(\"div\",{className:\"form-section\"},React.createElement(\"form\",{onSubmit:this.handleFormSubmit},React.createElement(\"select\",{onChange:this.handleSelectChange},this.state.method==='GET'?React.createElement(\"option\",{value:\"GET\",selected:true},\"GET\"):React.createElement(\"option\",{value:\"GET\"},\"GET\"),this.state.method==='POST'?React.createElement(\"option\",{value:\"POST\",selected:true},\"POST\"):React.createElement(\"option\",{value:\"POST\"},\"POST\"),this.state.method==='PUT'?React.createElement(\"option\",{value:\"PUT\",selected:true},\"PUT\"):React.createElement(\"option\",{value:\"PUT\"},\"PUT\"),this.state.method==='DELETE'?React.createElement(\"option\",{value:\"DELETE\",selected:true},\"DELETE\"):React.createElement(\"option\",{value:\"DELETE\"},\"DELETE\")),React.createElement(\"input\",{type:\"url\",placeholder:\"Enter Request URL\",value:this.state.url,onChange:this.handleUrlChange,className:\"inputUrl\"}),React.createElement(\"input\",{type:\"submit\",value:\"Send\",className:\"sendButton\"})),React.createElement(\"button\",{onClick:this.handleOpenModal,className:\"saveButton\"},\"Save\")),React.createElement(ReactModal,{isOpen:this.state.openModal,style:modalStyle},React.createElement(\"div\",{className:\"saveCollectionHeader\"},React.createElement(\"header\",null,\"Save To Collection\")),React.createElement(\"div\",{className:\"collectionText\"},\"Select a Collection to save Http Request to\"),React.createElement(\"select\",{id:\"collection\",ref:\"selectedCollection\"},React.createElement(\"option\",{value:\"\",disabled:true,selected:true},\"Select your option\"),this.showCollection()),React.createElement(\"div\",{className:\"saveCollectionButtonContainer\"},React.createElement(\"button\",{onClick:this.saveCollection},\"Save to Collection\"),React.createElement(\"button\",{onClick:this.handleCloseModal,className:\"cancelButton\"},\"Cancel\"))),React.createElement(Tabs,null,React.createElement(TabList,null,React.createElement(Tab,null,\"Header\"),React.createElement(Tab,null,\"Body\"),React.createElement(Tab,null,\"Test\"),React.createElement(Tab,null,\"Test Result\")),React.createElement(TabPanel,null,React.createElement(HttpRequestHeaders,{addHeader:function addHeader(e){_this3.addHeader(e);},handleHeaderRemove:function handleHeaderRemove(index){_this3.handleHeaderRemove(index);},handleHeaderValueChange:function handleHeaderValueChange(e,index){_this3.handleHeaderValueChange(e,index);},handleHeaderKeyChange:function handleHeaderKeyChange(e,index){_this3.handleHeaderKeyChange(e,index);},headerValues:this.state.headerValues,headerKeys:this.state.headerKeys,showHeader:this.state.showHeader})),React.createElement(TabPanel,null,React.createElement(HttpRequestBody,{body:this.state.body,showBody:this.state.showBody,handleBodyRawInputChange:function handleBodyRawInputChange(e){_this3.handleBodyRawInputChange(e);}})),React.createElement(TabPanel,null,React.createElement(\"textarea\",{className:\"test-tab\",placeholder:'Test',value:this.state.test,onChange:function onChange(e){_this3.handleTestChange(e);}})),React.createElement(TabPanel,null,React.createElement(\"textarea\",{className:\"test-tab\",placeholder:'Test',value:this.state.testOutput}))),React.createElement(\"div\",{className:\"response-label\"},\"Response\"),React.createElement(HttpResponse,{result:this.state.result}));}}]);return HttpRequest;}(Component);var mapStateToProps=function mapStateToProps(state){return{historyData:state.historyData,tabHistory:state.tabHistory,previousTab:state.currentTabId};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{httpHistory:function httpHistory(newHttpData,auth){return dispatch(_httpHistory(newHttpData,auth));}};};export default connect(mapStateToProps,mapDispatchToProps)(HttpRequest);","map":{"version":3,"sources":["C:/Users/Amit/Desktop/postman/postman-clone/src/Components/HttpRequest.jsx"],"names":["React","Component","connect","httpHistory","HttpRequestHeaders","HttpRequestBody","HttpResponse","Tabs","Tab","TabList","TabPanel","ReactModal","firebase","setAppElement","modalStyle","overlay","display","justifyContent","alignItems","backgroundColor","content","position","width","height","padding","background","HttpRequest","state","url","result","method","body","headerKeys","headerValues","headers","showHeader","showBody","openModal","collectionList","test","testOutput","title","compareTestWithResponse","length","setState","JSON","parse","eachObjectInTest","testCase","resultCase","jsonKeyinTest","Object","keys","jsonKeyInResult","i","console","log","includes","err","handleUrlChange","event","target","value","handleFormSubmit","preventDefault","headObj","map","headerKey","index","props","auth","fetch","then","a","json","stringify","catch","handleSelectChange","handleHeaderRemove","updatedHeaderKeys","updatedHeaderValues","splice","headervalues","handleHeaderKeyChange","e","handleHeaderValueChange","addHeader","onClickHeader","onClickBody","handleBodyRawInputChange","handleTestChange","handleOpenModal","firestore","collection","get","querySnapshot","forEach","doc","data","uid","list","collectionData","collectionId","id","collectionName","push","showCollection","saveCollection","refs","selectedCollection","requestObject","update","RequestUrl","FieldValue","arrayUnion","handleCloseModal","handleChange","name","handleTitle","nextProps","nextState","localStorage","setItem","savedState","getItem","savedStateObject","history","historyData","location","mapStateToProps","tabHistory","previousTab","currentTabId","mapDispatchToProps","dispatch","newHttpData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { httpHistory } from '../store/actions/httpHistoryActions';\r\nimport HttpRequestHeaders from './HttpRequestHeaders';\r\nimport HttpRequestBody from './HttpRequestBody';\r\nimport HttpResponse from './HttpResponse';\r\nimport { Tabs, Tab, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport ReactModal from 'react-modal';\r\nimport firebase from '../config/fbConfig';\r\n\r\n\r\nReactModal.setAppElement('#root');\r\nconst modalStyle = {\r\n  overlay: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0, 0, 0, 0.75)'\r\n  },\r\n  content: {\r\n    position: 'relative',\r\n    width: '400px',\r\n    height: '400px',\r\n    padding: '0',\r\n    background: '#f0eee9'\r\n  }\r\n};\r\nclass HttpRequest extends Component {\r\n  state = {\r\n    url: '',\r\n    result: '',\r\n    method: 'GET',\r\n    body: '',\r\n    headerKeys: ['Content-Type'],\r\n    headerValues: ['application/json'],\r\n    headers: {},\r\n    showHeader: true,\r\n    showBody: false,\r\n    openModal: false,\r\n    collectionList: [],\r\n    test: '',\r\n    testOutput: '',\r\n    title: 'Untitled'\r\n  };\r\n  componentWillUpdate(nextProps, nextState) {\r\n    localStorage.setItem(this.props.index, JSON.stringify(nextState));\r\n  }\r\n  componentDidMount() {\r\n    let savedState = localStorage.getItem(this.props.index);\r\n    if (savedState !== null) {\r\n      let savedStateObject = JSON.parse(savedState);\r\n      this.setState({\r\n        url: savedStateObject.url,\r\n        result: savedStateObject.result,\r\n        method: savedStateObject.method,\r\n        body: savedStateObject.body,\r\n        headerKeys: savedStateObject.headerKeys,\r\n        headerValues: savedStateObject.headerValues,\r\n        headers: savedStateObject.headers,\r\n        test: savedStateObject.test,\r\n        testOutput: savedStateObject.testOutput\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps() {\r\n    let history = this.props.historyData;\r\n    if (Object.keys(history).length !== 0) {\r\n      if (this.props.location === 0) {\r\n        this.setState(\r\n          {\r\n            url: history.url,\r\n            method: history.method,\r\n            body: history.body,\r\n            headerKeys: history.headerKeys,\r\n            headerValues: history.headerValues,\r\n            headers: history.headers,\r\n            title: history.title\r\n          },\r\n          () => {\r\n            localStorage.setItem(this.props.index, JSON.stringify(this.state));\r\n          }\r\n        );\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  compareTestWithResponse = (result) => {\r\n    if (this.state.test.length === 0) {\r\n      this.setState({ testOutput: 'No test case.' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      let test = JSON.parse(this.state.test);\r\n      if (test.length >= 0) {\r\n        for (\r\n          let eachObjectInTest = 0;\r\n          eachObjectInTest < test.length;\r\n          eachObjectInTest++\r\n        ) {\r\n          let testCase = test[eachObjectInTest];\r\n          let resultCase = result[eachObjectInTest];\r\n          let jsonKeyinTest = Object.keys(testCase);\r\n          let jsonKeyInResult = Object.keys(resultCase);\r\n          if (jsonKeyInResult.length !== jsonKeyinTest.length) {\r\n            this.setState({\r\n              testOutput: 'Failed, length of test case and response not equal'\r\n            });\r\n            break;\r\n          } else {\r\n            for (let i = 0; i < jsonKeyinTest.length; i++) {\r\n              console.log(\r\n                i +\r\n                  '. result key' +\r\n                  jsonKeyInResult[i] +\r\n                  ' , test key' +\r\n                  jsonKeyinTest\r\n              );\r\n              if (!jsonKeyInResult.includes(jsonKeyinTest[i])) {\r\n                this.setState({\r\n                  testOutput:\r\n                    'Failed ' + jsonKeyinTest[i] + ' not present in response'\r\n                });\r\n\r\n                break;\r\n              } else if (\r\n                testCase[jsonKeyinTest[i]] !== resultCase[jsonKeyinTest[i]]\r\n              ) {\r\n                this.setState({\r\n                  testOutput:\r\n                    'Failed not equal properties of ' + jsonKeyInResult[i] + ''\r\n                });\r\n                break;\r\n              } else {\r\n                this.setState({ testOutput: 'Passed' });\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        let jsonKeyinTest = Object.keys(test);\r\n        let jsonKeyInResult = Object.keys(result);\r\n        if (jsonKeyInResult.length !== jsonKeyinTest.length) {\r\n          this.setState({\r\n            testOutput: 'Failed, length of test case and response not equal'\r\n          });\r\n          return;\r\n        } else {\r\n          for (let i = 0; i < jsonKeyinTest.length; i++) {\r\n            if (!jsonKeyInResult.includes(jsonKeyinTest[i])) {\r\n              this.setState({\r\n                testOutput:\r\n                  'Failed ' + jsonKeyinTest[i] + ' not present in response'\r\n              });\r\n\r\n              return;\r\n            } else if (\r\n              test[jsonKeyInResult[i]] !== result[jsonKeyInResult[i]]\r\n            ) {\r\n              this.setState({\r\n                testOutput:\r\n                  'Failed not equal properties of ' + jsonKeyInResult[i] + ''\r\n              });\r\n              return;\r\n            } else {\r\n              this.setState({ testOutput: 'Passed' });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log('ERROR ' + err);\r\n      this.setState({ testOutput: 'Badly formatted test case.' });\r\n    }\r\n  };\r\n  handleUrlChange = (event) => {\r\n    this.setState({ url: event.target.value });\r\n  };\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.url !== '') {\r\n      const headObj = {};\r\n      this.state.headerKeys.map((headerKey, index) => {\r\n        return (headObj[headerKey] = this.state.headerValues[index]);\r\n      });\r\n\r\n      this.setState({ headers: headObj }, () => {\r\n        this.props.httpHistory(this.state, this.props.auth);\r\n        console.log(this.state);\r\n        if (this.state.method === 'GET') {\r\n          fetch(this.state.url, {\r\n            headers: this.state.headers\r\n          })\r\n            .then((a) => a.json())\r\n            .then((result) =>\r\n              this.setState({ result: JSON.stringify(result) }, () => {\r\n                this.compareTestWithResponse(result);\r\n              })\r\n            )\r\n            .catch((err) => {});\r\n        } else {\r\n          fetch(this.state.url, {\r\n            headers: this.state.headers,\r\n            method: this.state.method,\r\n            body: this.state.body\r\n          })\r\n            .then((a) => a.json())\r\n            .then((result) => this.setState({ result: JSON.stringify(result) }))\r\n            .catch((err) => {});\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({ result: 'EMPTY URL' });\r\n    }\r\n  };\r\n\r\n  handleSelectChange = (event) => {\r\n    this.setState({ method: event.target.value });\r\n  };\r\n\r\n  handleHeaderRemove = (index) => {\r\n    let updatedHeaderKeys = this.state.headerKeys;\r\n    let updatedHeaderValues = this.state.headerValues;\r\n    updatedHeaderKeys.splice(index, 1);\r\n    updatedHeaderValues.splice(index, 1);\r\n    this.setState({ headerKeys: updatedHeaderKeys });\r\n    this.setState({ headervalues: updatedHeaderValues });\r\n  };\r\n\r\n  handleHeaderKeyChange = (e, index) => {\r\n    let updatedHeaderKeys = this.state.headerKeys;\r\n    updatedHeaderKeys[index] = e.target.value;\r\n    this.setState({ headerKeys: updatedHeaderKeys });\r\n  };\r\n\r\n  handleHeaderValueChange = (e, index) => {\r\n    let updatedHeaderValues = this.state.headerValues;\r\n    updatedHeaderValues[index] = e.target.value;\r\n    this.setState({ headerValues: updatedHeaderValues });\r\n  };\r\n\r\n  addHeader = () => {\r\n    this.setState({ headerKeys: [...this.state.headerKeys, ''] });\r\n    this.setState({ headerValues: [...this.state.headerValues, ''] });\r\n  };\r\n  onClickHeader = () => {\r\n    this.setState({ showHeader: true, showBody: false });\r\n  };\r\n  onClickBody = () => {\r\n    this.setState({ showHeader: false, showBody: true });\r\n  };\r\n  handleBodyRawInputChange = (e) => {\r\n    this.setState({ body: e.target.value });\r\n  };\r\n  handleTestChange = (e) => {\r\n    this.setState({ test: e.target.value });\r\n  };\r\n\r\n  // ------for save Button modal------\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ openModal: !this.state.openModal });\r\n    firebase\r\n      .firestore()\r\n      .collection('UserCollection')\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          if (doc.data().uid === this.props.auth.uid) {\r\n            let list = [];\r\n            let collectionData = {\r\n              collectionId: doc.id,\r\n              collectionName: doc.data().collectionName\r\n            };\r\n            list.push(collectionData);\r\n            this.setState({ collectionList: list });\r\n          }\r\n        });\r\n      });\r\n  };\r\n  showCollection = () => {\r\n    return this.state.collectionList.map((collection) => (\r\n      <option key={collection.collectionId} value={collection.collectionId}>\r\n        {collection.collectionName}\r\n      </option>\r\n    ));\r\n  };\r\n  saveCollection = () => {\r\n    if (this.refs.selectedCollection.value !== '') {\r\n      console.log(this.refs.selectedCollection.value);\r\n      let requestObject = {\r\n        url: this.state.url,\r\n        method: this.state.method,\r\n        body: this.state.body,\r\n        headerKeys: this.state.headerKeys,\r\n        headerValues: this.state.headerValues,\r\n        headers: this.state.headers,\r\n        test: this.state.test\r\n      };\r\n      firebase\r\n        .firestore()\r\n        .collection('UserCollection')\r\n        .doc(`${this.refs.selectedCollection.value}`)\r\n        .update({\r\n          RequestUrl: firebase.firestore.FieldValue.arrayUnion(requestObject)\r\n        })\r\n        .then(() => {\r\n          console.log('Data Written Successfully');\r\n        })\r\n        .catch((err) => {\r\n          console.log('Error Occurred', err);\r\n        });\r\n      this.setState({ openModal: !this.state.openModal });\r\n    }\r\n  };\r\n  handleCloseModal = () => {\r\n    this.setState({ openModal: !this.state.openModal });\r\n  };\r\n  // ------for save Button Modal------\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n  handleTitle = () => {\r\n    this.setState({ title: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"urlArea\">\r\n        <div>\r\n          <input\r\n            className=\"handleTitle\"\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={this.state.title}\r\n            onClick={this.handleTitle}\r\n            onChange={this.handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-section\">\r\n          <form onSubmit={this.handleFormSubmit}>\r\n            <select onChange={this.handleSelectChange}>\r\n              {this.state.method === 'GET' ? (\r\n                <option value=\"GET\" selected>\r\n                  GET\r\n                </option>\r\n              ) : (\r\n                <option value=\"GET\">GET</option>\r\n              )}\r\n              {this.state.method === 'POST' ? (\r\n                <option value=\"POST\" selected>\r\n                  POST\r\n                </option>\r\n              ) : (\r\n                <option value=\"POST\">POST</option>\r\n              )}\r\n              {this.state.method === 'PUT' ? (\r\n                <option value=\"PUT\" selected>\r\n                  PUT\r\n                </option>\r\n              ) : (\r\n                <option value=\"PUT\">PUT</option>\r\n              )}\r\n              {this.state.method === 'DELETE' ? (\r\n                <option value=\"DELETE\" selected>\r\n                  DELETE\r\n                </option>\r\n              ) : (\r\n                <option value=\"DELETE\">DELETE</option>\r\n              )}\r\n            </select>\r\n            <input\r\n              type=\"url\"\r\n              placeholder=\"Enter Request URL\"\r\n              value={this.state.url}\r\n              onChange={this.handleUrlChange}\r\n              className=\"inputUrl\"\r\n            />\r\n            <input type=\"submit\" value=\"Send\" className=\"sendButton\" />\r\n          </form>\r\n          <button onClick={this.handleOpenModal} className=\"saveButton\">\r\n            Save\r\n          </button>\r\n        </div>\r\n        {/* to handle save collection button event */}\r\n\r\n        <ReactModal isOpen={this.state.openModal} style={modalStyle}>\r\n          <div className=\"saveCollectionHeader\">\r\n            <header>Save To Collection</header>\r\n          </div>\r\n          <div className=\"collectionText\">\r\n            Select a Collection to save Http Request to\r\n          </div>\r\n          <select id=\"collection\" ref=\"selectedCollection\">\r\n            <option value=\"\" disabled selected>\r\n              Select your option\r\n            </option>\r\n            {this.showCollection()}\r\n          </select>\r\n          <div className=\"saveCollectionButtonContainer\">\r\n            <button onClick={this.saveCollection}>Save to Collection</button>\r\n            <button onClick={this.handleCloseModal} className=\"cancelButton\">\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </ReactModal>\r\n\r\n        {/* To handle save collection button event */}\r\n\r\n        <Tabs>\r\n          <TabList>\r\n            <Tab>Header</Tab>\r\n            <Tab>Body</Tab>\r\n\r\n            <Tab>Test</Tab>\r\n            <Tab>Test Result</Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <HttpRequestHeaders\r\n              addHeader={(e) => {\r\n                this.addHeader(e);\r\n              }}\r\n              handleHeaderRemove={(index) => {\r\n                this.handleHeaderRemove(index);\r\n              }}\r\n              handleHeaderValueChange={(e, index) => {\r\n                this.handleHeaderValueChange(e, index);\r\n              }}\r\n              handleHeaderKeyChange={(e, index) => {\r\n                this.handleHeaderKeyChange(e, index);\r\n              }}\r\n              headerValues={this.state.headerValues}\r\n              headerKeys={this.state.headerKeys}\r\n              showHeader={this.state.showHeader}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <HttpRequestBody\r\n              body={this.state.body}\r\n              showBody={this.state.showBody}\r\n              handleBodyRawInputChange={(e) => {\r\n                this.handleBodyRawInputChange(e);\r\n              }}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <textarea\r\n              className=\"test-tab\"\r\n              placeholder={'Test'}\r\n              value={this.state.test}\r\n              onChange={(e) => {\r\n                this.handleTestChange(e);\r\n              }}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <textarea\r\n              className=\"test-tab\"\r\n              placeholder={'Test'}\r\n              value={this.state.testOutput}\r\n            />\r\n          </TabPanel>\r\n        </Tabs>\r\n        <div className=\"response-label\">Response</div>\r\n        <HttpResponse result={this.state.result} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    historyData: state.historyData,\r\n    tabHistory: state.tabHistory,\r\n    previousTab: state.currentTabId\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    httpHistory: (newHttpData, auth) => dispatch(httpHistory(newHttpData, auth))\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(HttpRequest);\r\n"]},"metadata":{},"sourceType":"module"}